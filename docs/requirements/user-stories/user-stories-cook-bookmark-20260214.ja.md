# ユーザーストーリー

**プロジェクト名**: Cook Bookmark
**エピック**: MVP - 個人レシピコレクション
**作成日**: 2026-02-14

---

## US-001: Googleログイン

**〜として** 家族メンバー
**〜したい** Googleアカウントでログイン
**〜のために** 別アカウントを作成せずに共有レシピコレクションにアクセスする

### 受入基準（EARS形式）

#### AC-1: ログイン成功

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがGoogleログインボタンをクリックしGoogle認証を完了した場合、システムはセッションを作成しダッシュボードにリダイレクトするものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがログインページにいる
- **When**: 「Googleでログイン」をクリックして認証する
- **Then**: アクティブなセッション付きでダッシュボードにリダイレクトされる

### 見積もり: 0 SP（実装済み）
### 優先度: Must Have

---

## US-002: URLからレシピ登録

**〜として** ユーザー
**〜したい** レシピURLを貼り付けてアプリにレシピ情報を自動抽出させたい
**〜のために** 手動入力なしで素早くレシピを保存する

### 受入基準（EARS形式）

#### AC-2: URL入力と抽出

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピURLを送信した場合、システムはページの内容を取得しGemini AIで構造化レシピデータを抽出するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピ登録ページにいる
- **When**: URLを貼り付けて送信ボタンをクリック
- **Then**: ローディングインジケーターが表示され、その後抽出されたレシピデータのプレビューが表示される

#### AC-3: プレビューと確認

**パターン**: イベント駆動（WHEN）

```
WHEN 抽出されたレシピデータが表示された場合、システムはユーザーが保存前にレビュー・編集・確認できるようにするものとする。
```

**Given-When-Then**:
- **Given**: AI抽出が完了しプレビューが表示されている
- **When**: ユーザーがデータを確認し確定ボタンをクリック
- **Then**: レシピがデータベースに保存され、レシピ一覧に表示される

### 見積もり: 8 SP
### 優先度: Must Have

---

## US-003: レシピ一覧の表示

**〜として** ユーザー
**〜したい** ダッシュボードで登録済みの全レシピを見たい
**〜のために** 何を作るか選べるようにする

### 受入基準（EARS形式）

#### AC-4: レシピ一覧表示

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがダッシュボードに遷移した場合、システムは料理名、画像、評価、お気に入り状態をカード形式で全レシピを表示するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがログイン済み
- **When**: ダッシュボードを開く
- **Then**: 共有レシピ全件がカードリストとして表示される

### 見積もり: 3 SP
### 優先度: Must Have

---

## US-004: レシピ詳細の表示

**〜として** ユーザー
**〜したい** レシピの全詳細を見たい
**〜のために** 調理手順に従って料理できるようにする

### 受入基準（EARS形式）

#### AC-5: 詳細ページ

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピカードをタップした場合、システムは料理名、画像、材料、手順、調理時間、人数、元URL、評価を含む全レシピ詳細を表示するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピ一覧を見ている
- **When**: レシピカードをタップ
- **Then**: モバイルフレンドリーなレイアウトで全レシピ詳細が表示される

### 見積もり: 3 SP
### 優先度: Must Have

---

## US-005: レシピの編集

**〜として** ユーザー
**〜したい** レシピ情報を編集したい
**〜のために** 間違いの訂正や個人的なメモを追加する

### 受入基準（EARS形式）

#### AC-6: 編集と保存

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピフィールドを編集して保存した場合、システムはレシピレコードを更新し更新された情報を表示するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピ詳細ページにいる
- **When**: 編集をタップし、フィールドを変更して保存
- **Then**: 変更が永続化され、更新されたレシピが表示される

### 見積もり: 3 SP
### 優先度: Must Have

---

## US-006: レシピの削除

**〜として** ユーザー
**〜したい** レシピを削除したい
**〜のために** 不要なレシピを整理する

### 受入基準（EARS形式）

#### AC-7: 確認付き削除

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピ削除を確認した場合、システムはレシピと関連データ（タグ等）をデータベースから削除するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピ詳細ページにいる
- **When**: 削除をタップして確認
- **Then**: レシピが削除され、レシピ一覧にリダイレクトされる

### 見積もり: 2 SP
### 優先度: Must Have

---

## US-007: キーワードでレシピ検索

**〜として** ユーザー
**〜したい** キーワードでレシピを検索したい
**〜のために** 特定のレシピを素早く見つける

### 受入基準（EARS形式）

#### AC-8: キーワード検索

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーが検索クエリを入力した場合、システムは料理名または材料がクエリに一致するレシピをフィルタリングして表示するものとする（大文字小文字区別なし）。
```

**Given-When-Then**:
- **Given**: ユーザーがダッシュボードにいる
- **When**: 検索ボックスにキーワードを入力
- **Then**: レシピ一覧がマッチする結果にフィルタリングされる

### 見積もり: 3 SP
### 優先度: Must Have

---

## US-008: レシピのカテゴリ分類

**〜として** ユーザー
**〜したい** レシピにカテゴリを割り当てたい
**〜のために** 料理のジャンルでレシピを整理する

### 受入基準（EARS形式）

#### AC-9: カテゴリ割り当て

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピにカテゴリ（例: 和食、洋食、中華）を割り当てた場合、システムは関連を保存しカテゴリでのフィルタリングを可能にするものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピを編集または登録中
- **When**: カテゴリを選択
- **Then**: カテゴリが保存され、そのカテゴリフィルターでレシピが表示される

### 見積もり: 3 SP
### 優先度: Should Have

---

## US-009: レシピのタグ付け

**〜として** ユーザー
**〜したい** レシピにタグを追加したい
**〜のために** カスタムグループを作成する

### 受入基準（EARS形式）

#### AC-10: タグ管理

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピのタグを追加または削除した場合、システムは関連を更新しタグでのフィルタリングを可能にするものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピを編集または登録中
- **When**: タグを追加/削除
- **Then**: タグが保存され、マッチするタグフィルターでレシピが表示される

### 見積もり: 3 SP
### 優先度: Should Have

---

## US-010: レシピのお気に入り

**〜として** ユーザー
**〜したい** レシピをお気に入りに登録したい
**〜のために** 家族の定番レシピにすぐアクセスする

### 受入基準（EARS形式）

#### AC-11: お気に入りトグル

**パターン**: イベント駆動（WHEN）

```
WHEN ユーザーがレシピのお気に入りボタンをタップした場合、システムはお気に入り状態をトグルしUIに即座に反映するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピを閲覧中（一覧または詳細）
- **When**: ハート/星のお気に入りアイコンをタップ
- **Then**: お気に入り状態がトグルされ、UIに変更が反映される

### 見積もり: 2 SP
### 優先度: Should Have

---

## US-011: レシピの評価

**〜として** レシピ登録者
**〜したい** レシピに1〜5の星評価をつけたい
**〜のために** 家族がどの料理を気に入ったか記録する

### 受入基準（EARS形式）

#### AC-12: 星評価

**パターン**: イベント駆動（WHEN）

```
WHEN レシピ登録者が星評価（1〜5）を設定または更新した場合、システムは評価を保存しレシピカードおよび詳細ページに表示するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーが自分で登録したレシピを閲覧中
- **When**: 星評価をタップ
- **Then**: 評価が保存され、レシピに表示される

### 見積もり: 2 SP
### 優先度: Should Have

---

## US-012: レシピ登録者の表示

**〜として** 家族メンバー
**〜したい** 各レシピの登録者を確認したい
**〜のために** 誰がそのレシピを見つけて追加したか知る

### 受入基準（EARS形式）

#### AC-13: 登録者表示

**パターン**: ユビキタス（SHALL）

```
システムは各レシピを登録したユーザーの名前とプロフィール画像を表示するものとする。
```

**Given-When-Then**:
- **Given**: ユーザーがレシピ一覧または詳細を閲覧中
- **When**: ページが読み込まれる
- **Then**: 各レシピに登録者の名前/画像が表示される

### 見積もり: 1 SP
### 優先度: Must Have

---

## ストーリーポイント集計

| 優先度 | ストーリー数 | 合計SP |
|---|---|---|
| Must Have | US-001〜007, US-012 | 23 SP |
| Should Have | US-008〜011 | 10 SP |
| **合計** | **12ストーリー** | **33 SP** |
